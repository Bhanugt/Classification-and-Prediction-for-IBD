# -*- coding: utf-8 -*-
"""app

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1oWMMubyjifSZLLPTKeCOZ7PgTTuc7DLN
"""

import streamlit as st
import pandas as pd
import numpy as np
import joblib

# Load the trained model
model = joblib.load("logistic_regression_model.pkl")

# Title of the Streamlit App
st.title("IBD Classification Predictor")

# Sidebar Inputs
st.sidebar.header("Enter Patient Details")

# Define input fields (Modify based on dataset features)
Age = st.sidebar.slider("Age", 18, 90, 30)
CRP_Level = st.sidebar.slider("CRP Level", 0.1, 50.0, 5.0)
Fecal_Calprotectin = st.sidebar.slider("Fecal Calprotectin", 50, 1000, 200)
Diarrhea_Frequency = st.sidebar.slider("Diarrhea Frequency", 0, 10, 3)
Abdominal_Pain = st.sidebar.slider("Abdominal Pain Level", 0, 10, 5)

# Convert user inputs into DataFrame
input_data = pd.DataFrame([[Age, CRP_Level, Fecal_Calprotectin, Diarrhea_Frequency, Abdominal_Pain]],
                          columns=["Age", "CRP_Level", "Fecal_Calprotectin", "Diarrhea_Frequency", "Abdominal_Pain"])

# Predict the classification output
if st.sidebar.button("Predict"):
    prediction = model.predict(input_data)
    class_label = "Mild" if prediction[0] == 0 else "Severe" if prediction[0] == 1 else "Normal"

    st.success(f"Predicted IBD Classification: {class_label}")